import{f as s}from"./formSchema-ec93e38c.js";import{g as E}from"./routeGuard-4562d1a1.js";import{m as M,L as f,bw as g,c as n,b as o,u as e,ap as a,bd as m,a as l,w,r as y,o as c,al as _,aL as v}from"./dateFormat-6fb55f48.js";import{M as S}from"./MemberStore-b4dff722.js";import{F as k,a as b,E as h}from"./vee-validate.esm-3e833f9c.js";import"./axiosBase-7e3cd247.js";import"./ActivityStore-7b0f0073.js";const B="/Vue3-diving-Vite/assets/login-ad2a4d53.jpg";const N={class:"container py-2 py-sm-4 py-md-5"},O={class:"row justify-content-center"},A={class:"col-md-11 col-lg-10 col-xxl-8"},D={class:"login-card card"},j={class:"row g-0"},x={class:"col-md-5 position-relative d-flex justify-content-center"},C=["src","alt"],F={class:"col-md-7"},R={class:"card-body py-4 py-md-5"},I={class:"card-title mb-2 fw-bold fs-4 text-primary text-end opacity-75 text-shadow"},T=o("small",{class:"font-barlow text-uppercase fw-normal ms-1"},"login",-1),$=["disabled"],q={class:"mb-3"},P=["for"],U={key:0,class:"text-danger"},Y={class:"mb-3"},z=["for"],G={key:0,class:"text-danger"},H={class:"text-end pt-3"},J=["disabled"],K={key:0,class:"spinner-border spinner-border-sm",role:"status"},Q={class:"col-md-7 offset-md-5 text-center pt-2"},W={data(){return{title:"登入",form:{email:"",password:""}}},inject:["frontLayoutData"],components:{VForm:k,Field:b,ErrorMessage:h},computed:{...M(f,["isLoadingBtn"])},beforeRouteEnter(i,r,t){E(i,r,t)},created(){this.frontLayoutData.isVerticalMiddle=!0,this.frontLayoutData.showSearchBar=!1,this.hideLoading()},methods:{...g(f,["showLoading","hideLoading"]),...g(S,["login"]),onSubmit(){this.showLoading("btn");const{returnUrl:i}=this.$route.query;this.login(this.form,i).then(r=>this.hideLoading())}}},le=Object.assign(W,{__name:"LoginView",setup(i){const{VITE_COMPANY_NAME:r}={VITE_COMPANY_NAME:"氣瓶海人 水肺潛水揪團",VITE_API_ROOT:"https://vue3-diving-vite.onrender.com/",BASE_URL:"/Vue3-diving-Vite/",MODE:"production",DEV:!1,PROD:!0};return(t,d)=>{const V=y("VForm"),L=y("router-link");return c(),n("div",N,[o("div",O,[o("div",A,[o("div",D,[o("div",j,[o("div",x,[o("img",{src:e(B),class:"border border-card-border-width login-img img-cover shadow",alt:`${e(r)}-${t.title}`},null,8,C)]),o("div",F,[o("div",R,[o("h5",I,[a(m(t.title),1),T]),l(V,{onSubmit:t.onSubmit},{default:w(({errors:p})=>[o("fieldset",{disabled:t.isLoadingBtn},[o("div",q,[o("label",{for:e(s).email.label,class:"form-label"},[a(m(e(s).email.label),1),e(s).email.isRequired?(c(),n("span",U,"*")):_("",!0)],8,P),l(e(b),{id:e(s).email.label,name:e(s).email.label,type:e(s).email.type,class:v(["form-control",{"is-invalid":p[e(s).email.label]}]),placeholder:`請輸入 ${e(s).email.label}`,rules:e(s).email.rules,modelValue:t.form.email,"onUpdate:modelValue":d[0]||(d[0]=u=>t.form.email=u),modelModifiers:{trim:!0}},null,8,["id","name","type","class","placeholder","rules","modelValue"]),l(e(h),{name:e(s).email.label,class:"invalid-feedback"},null,8,["name"])]),o("div",Y,[o("label",{for:e(s).password.label,class:"form-label"},[a(m(e(s).password.label),1),e(s).password.isRequired?(c(),n("span",G,"*")):_("",!0)],8,z),l(e(b),{id:e(s).password.label,name:e(s).password.label,type:e(s).password.type,class:v(["form-control",{"is-invalid":p[e(s).password.label]}]),placeholder:`請輸入${e(s).password.label}`,rules:e(s).password.rules.required,modelValue:t.form.password,"onUpdate:modelValue":d[1]||(d[1]=u=>t.form.password=u),modelModifiers:{trim:!0}},null,8,["id","name","type","class","placeholder","rules","modelValue"]),l(e(h),{name:e(s).password.label,class:"invalid-feedback"},null,8,["name"])]),o("div",H,[o("button",{type:"submit",class:"btn btn-primary btn-custom-rectangle",disabled:t.isLoadingBtn||Object.keys(p).length},[t.isLoadingBtn?(c(),n("span",K)):_("",!0),a(" "+m(t.title),1)],8,J)])],8,$)]),_:1},8,["onSubmit"])])])])]),o("div",Q,[a("沒有帳號？"),l(L,{to:"/signup",class:"text-reset"},{default:w(()=>[a("立即註冊")]),_:1})])])])])}}});export{le as default};
