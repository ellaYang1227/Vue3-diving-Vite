import{l as L,p as E,q as O,s as R,v as H,o as u,c as m,x as T,b as i,h as z,w as y,t as g,u as N,e as _,g as k,i as b,d as K,_ as Y,A as J,m as Q,a as W,F as w,r as F,f as S,n as P,y as X}from"./index-b50b936d.js";import{_ as G,d as I,s as Z,b as j}from"./statusFormat-1784c575.js";const tt="/Vue3-diving-Vite/assets/diving-0d7546ba.svg",et="/Vue3-diving-Vite/assets/peoples-49273bf6.svg",st="/Vue3-diving-Vite/assets/area-ae7a8f4a.svg",it="/Vue3-diving-Vite/assets/license-d6779c7a.svg",at="/Vue3-diving-Vite/assets/score-cbb8c8ca.svg",ot="/Vue3-diving-Vite/assets/comment-b3d3089e.svg";var nt=Object.defineProperty,rt=Object.defineProperties,lt=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,ct=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,U=(s,e,a)=>e in s?nt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,q=(s,e)=>{for(var a in e||(e={}))ct.call(e,a)&&U(s,a,e[a]);if(M)for(var a of M(e))dt.call(e,a)&&U(s,a,e[a]);return s},ut=(s,e)=>rt(s,lt(e)),C=globalThis&&globalThis.__assign||function(){return(C=Object.assign||function(s){for(var e,a=1,o=arguments.length;a<o;a++)for(var t in e=arguments[a])Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t]);return s}).apply(this,arguments)},ht=function(){function s(e,a,o){var t=this;this.endVal=a,this.options=o,this.version="2.1.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(r){t.startTime||(t.startTime=r);var l=r-t.startTime;t.remaining=t.duration-l,t.useEasing?t.countDown?t.frameVal=t.startVal-t.easingFn(l,0,t.startVal-t.endVal,t.duration):t.frameVal=t.easingFn(l,t.startVal,t.endVal-t.startVal,t.duration):t.countDown?t.frameVal=t.startVal-(t.startVal-t.endVal)*(l/t.duration):t.frameVal=t.startVal+(t.endVal-t.startVal)*(l/t.duration),t.countDown?t.frameVal=t.frameVal<t.endVal?t.endVal:t.frameVal:t.frameVal=t.frameVal>t.endVal?t.endVal:t.frameVal,t.frameVal=Number(t.frameVal.toFixed(t.options.decimalPlaces)),t.printValue(t.frameVal),l<t.duration?t.rAF=requestAnimationFrame(t.count):t.finalEndVal!==null?t.update(t.finalEndVal):t.callback&&t.callback()},this.formatNumber=function(r){var l,h,v,f,V=r<0?"-":"";l=Math.abs(r).toFixed(t.options.decimalPlaces);var n=(l+="").split(".");if(h=n[0],v=n.length>1?t.options.decimal+n[1]:"",t.options.useGrouping){f="";for(var d=0,A=h.length;d<A;++d)d!==0&&d%3==0&&(f=t.options.separator+f),f=h[A-d-1]+f;h=f}return t.options.numerals&&t.options.numerals.length&&(h=h.replace(/[0-9]/g,function(c){return t.options.numerals[+c]}),v=v.replace(/[0-9]/g,function(c){return t.options.numerals[+c]})),V+t.options.prefix+h+v+t.options.suffix},this.easeOutExpo=function(r,l,h,v){return h*(1-Math.pow(2,-10*r/v))*1024/1023+l},this.options=C(C({},this.defaults),o),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof e=="string"?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",window!==void 0&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return t.handleScroll(t)}),window.onscroll=function(){window.onScrollFns.forEach(function(r){return r()})},this.handleScroll(this)))}return s.prototype.handleScroll=function(e){if(e&&window){var a=window.innerHeight+window.scrollY,o=e.el.offsetTop+e.el.offsetHeight;o<a&&o>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay)):window.scrollY>o&&!e.paused&&e.reset()}},s.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var a=e-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold){this.finalEndVal=e;var o=this.countDown?1:-1;this.endVal=e+o*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},s.prototype.start=function(e){this.error||(this.callback=e,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},s.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},s.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},s.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},s.prototype.printValue=function(e){var a=this.formattingFn(e);this.el.tagName==="INPUT"?this.el.value=a:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=a:this.el.innerHTML=a},s.prototype.ensureNumber=function(e){return typeof e=="number"&&!isNaN(e)},s.prototype.validateValue=function(e){var a=Number(e);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: "+e,null)},s.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},s}();const mt={class:"countup-wrap"},ft={name:"CountUp"},pt=L(ut(q({},ft),{props:{endVal:null,startVal:{default:0},duration:{default:2.5},decimalPlaces:{default:0},autoplay:{type:Boolean,default:!0},loop:{type:[Boolean,Number,String],default:!1},delay:{default:0},options:{default:void 0}},emits:["init","finished"],setup(s,{expose:e,emit:a}){const o=s;let t=E(),r=E();const l=()=>{if(!t.value)return;const c=Number(o.startVal),p=Number(o.endVal),x=Number(o.duration);if(r.value=new ht(t.value,p,q({startVal:c,duration:x,decimalPlaces:o.decimalPlaces},o.options)),r.value.error){console.error(r.value.error);return}a("init",r.value)},h=c=>{var p;(p=r.value)==null||p.start(c)};O(()=>o.endVal,c=>{var p;o.autoplay&&((p=r.value)==null||p.update(c))});const v=E(!1);let f=0;const V=()=>{f++,h(()=>{typeof o.loop=="boolean"&&o.loop||o.loop>f?d(()=>{var p;(p=r.value)==null||p.reset(),V()},o.delay):v.value=!0})};O(v,c=>{c&&a("finished")}),R(()=>{l(),o.autoplay&&V()}),H(()=>{var c;cancelAnimationFrame(n),(c=r.value)==null||c.reset()});let n;const d=(c,p=1)=>{let x;function $(D){x||(x=D),D-x<p*1e3?n=requestAnimationFrame($):c()}n=requestAnimationFrame($)};return e({init:l,restart:()=>{l(),h()}}),(c,p)=>(u(),m("div",mt,[T(c.$slots,"prefix"),i("span",{ref_key:"elRef",ref:t},null,512),T(c.$slots,"suffix")]))}}));function vt(s,e=0){let a=Math.round(s);if(e){const o=Math.pow(10,e);a=Math.round(s*o)/o}return a.toFixed(e)}function gt(s,e){let a=[];return a=e.filter(o=>!Object.prototype.hasOwnProperty.call(s,o)),a.length&&console.warn(`[ActivityCard 元件警告]缺少「${a.join("、")}」欄位資料`),!a.length}const _t={class:"img-frame-card"},yt={class:"img-frame mb-3"},Vt=i("div",{class:"outer-border"},null,-1),wt={class:"card custom-rectangle bg-primary"},bt=["src","alt"],At={class:"card-img-overlay"},xt={class:"fs-6 font-barlow badge rounded-pill bg-darkPrimary bg-opacity-75 text-body border border-lightPrimary border-2"},Ft={class:"h5 mb-1 text-primary text-truncate-row-2 fw-bold"},St={class:"list-unstyled text-body lh-sm"},Et={class:"font-barlow"},Nt={class:"row align-items-center fw-bold pt-3"},Pt={class:"col text-truncate"},kt={class:"col-auto font-barlow list-inline"},Ct={class:"list-inline-item"},$t={key:0,class:"list-inline-item"},Dt={key:1,class:"list-inline-item"},Ot={data(){return{}},props:{activity:{type:Object,required:!0,validator(s){return gt(s,["id","title","imgs","location","startDate","endDate","isNitrox","cylinderTotal","user"])}}},components:{UserMugShot:G},mounted(){},methods:{}},Tt=Object.assign(Ot,{__name:"ActivityCard",setup(s){return(e,a)=>{const o=b("router-link");return u(),z(o,{to:"#",class:"col text-decoration-none"},{default:y(()=>{var t,r,l;return[i("div",_t,[i("div",yt,[Vt,i("div",wt,[i("img",{src:s.activity.imgs[0],class:"card-img custom-rectangle img-cover",alt:`[${s.activity.location}]${s.activity.title}`},null,8,bt),i("div",At,[i("span",xt,g(N(vt)((t=s.activity.user)==null?void 0:t.score,1)),1)])])]),i("h2",Ft,g(s.activity.title),1),i("ul",St,[i("li",null,g(s.activity.location),1),i("li",Et,g(N(I)(s.activity.startDate))+" ~ "+g(N(I)(s.activity.endDate)),1),i("li",Nt,[i("div",Pt,[_(G,{"width-size":25,name:(r=s.activity.user)==null?void 0:r.name,img:(l=s.activity.user)==null?void 0:l.img},null,8,["name","img"])]),i("ul",kt,[i("li",Ct,g(s.activity.grade),1),s.activity.isNitrox?(u(),m("li",$t,"高氧")):k("",!0),s.activity.cylinderTotal?(u(),m("li",Dt,g(s.activity.cylinderTotal),1)):k("",!0)])])])])]}),_:1})}}}),B=K("ActivityStore",{state:()=>({statusFormat:Z,activitys:[],locations:[]}),getters:{newActivitys:({activitys:s})=>s.filter(a=>a.groupStatus==="進行中").slice(0,3),hotActivitys:({activitys:s})=>s.filter(a=>a.activityStatus!=="已結束").sort(()=>Math.random()>.5?-1:1).slice(0,3),adLocations:({locations:s})=>s.filter(a=>a.isIndexAD).sort(()=>Math.random()>.5?-1:1).slice(0,12)},actions:{getActivitys(){j.get("/activitys.json").then(s=>{this.activitys=s.reverse().filter(e=>e.isEnable&&!e.isViolation).map(e=>({...e,...this.statusFormat(e)}))})},getLocations(){j.get("/locations.json").then(s=>{this.locations=s})}}});const It={data(){return{commentImg:ot,bannerIcons:[{title:"揪團潛水",img:tt,total:1005},{title:"報名人數",img:et,total:14186},{title:"潛水地區",img:st,total:84}],activityNavs:{hot:"熱門",new:"最新"},activeActivityNav:"hot",features:[{title:`證照門檻
找伴揪安心`,img:it},{title:`評分機制
加團不踩雷`,img:at}]}},mounted(){J.init({duration:1200,easing:"ease-in-out-back"}),this.getActivitys(),this.getLocations(),this.getComments()},computed:{...Q(B,["newActivitys","hotActivitys","adLocations"]),activityCards(){let s=[];switch(this.activeActivityNav){case"new":s=this.newActivitys;break;case"hot":s=this.hotActivitys;break}return s}},methods:{...W(B,["getActivitys","getLocations"]),toggleActiveActivityNav(s){this.activeActivityNav=s}},components:{ActivityCard:Tt,CountUp:pt}},jt={class:"bg-img pb-5 py-lg-5"},Mt={class:"container text-center py-5","data-aos":"zoom-out-down"},Ut=i("h6",{class:"en-title text-uppercase fs-5 font-barlow mb-0"},"DIVING",-1),qt=i("h1",{class:"main-title display-3 mb-0 fw-bold"},"潛安伴旅這裡揪",-1),Bt=i("h2",{class:"sub-title opacity-75 fs-4"},"在氣瓶海人遇見好潛伴",-1),zt={class:"d-grid col-7 col-md-4 col-lg-3 mx-auto mt-4"},Gt={class:"bg-lightPrimary bg-opacity-20 mt-3","data-aos":"fade-up","data-aos-delay":"600"},Lt={class:"container py-4"},Rt={class:"row gx-0 gy-4 justify-content-center"},Ht=["src"],Kt={class:"text-center flex-grow-1 flex-md-grow-0"},Yt={class:"d-block text-primary fw-light font-barlow display-4 lh-1"},Jt={class:"container","data-aos":"fade-up"},Qt={class:"nav fs-4"},Wt=["onClick"],Xt={key:0,class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4"},Zt={class:"row gy-4 justify-content-center py-4 py-md-5"},te=["data-aos"],ee={class:"row g-0"},se={class:"col-5"},ie=["src","alt"],ae={class:"col fw-bold text-warning fs-1 mb-0 word-break-keep-all lh-sm align-self-center mt-3 mt-xl-5"},oe={class:"bg-lightPrimary bg-opacity-20 my-3 py-3","data-aos":"fade-up"},ne={class:"container-fluid waterfalls-flow-imgs"},re={class:"waterfalls-flow-item-img-box"},le=["src","alt"],ce={class:"position-absolute bottom-0 start-0 m-3 py-1 px-2 border border-lightPrimary bg-lightPrimary bg-opacity-20 text-body fs-5 text-truncate-row-2"},de={class:"container py-4 py-md-5","data-aos":"fade-up"},ue=i("h5",{class:"fs-3 text-center text-primary"},[i("strong",null,"聽聽其他人怎麼說"),i("small",{class:"d-block text-body fs-5"},"大家參加完潛團的想法是甚麼呢")],-1),he={class:"row row-cols-1 row-cols-md-3 g-4"},me={class:"col-auto"},fe=["src"],pe={class:"col"};function ve(s,e,a,o,t,r){const l=b("router-link"),h=b("count-up"),v=b("ActivityCard"),f=b("swiper-slide"),V=b("swiper-container");return u(),m(w,null,[i("div",jt,[i("div",Mt,[Ut,qt,Bt,i("div",zt,[_(l,{to:"addGroup",class:"btn btn-outline-lightPrimary btn-lg rounded-pill opacity-75",role:"button"},{default:y(()=>[S("我要揪團")]),_:1})])]),i("div",Gt,[i("div",Lt,[i("div",Rt,[(u(!0),m(w,null,F(t.bannerIcons,n=>(u(),m("div",{"data-aos":"flip-left","data-aos-delay":"1000",class:"col-7 col-md-4 d-flex justify-content-center align-items-center",key:n.title},[i("img",{src:n.img,class:"banner-icon-size border border-style-dashed border-lightPrimary rounded-circle me-md-2"},null,8,Ht),i("div",Kt,[i("span",Yt,[_(h,{endVal:n.total,duration:5},null,8,["endVal"])]),S(g(n.title),1)])]))),128))])])])]),i("div",Jt,[i("nav",Qt,[(u(!0),m(w,null,F(t.activityNavs,(n,d,A)=>(u(),m("a",{class:P(["nav-link fw-bold",{disabled:t.activeActivityNav===d,"ps-0":!A}]),"aria-current":"page",href:"#",key:d,onClick:X(c=>r.toggleActiveActivityNav(d),["prevent"])},g(n),11,Wt))),128))]),r.activityCards.length?(u(),m("div",Xt,[(u(!0),m(w,null,F(r.activityCards,(n,d)=>(u(),m("div",{"data-aos":"fade-up",key:n.id},[_(v,{activity:n,class:P({"d-block d-sm-none d-lg-block":d>=2})},null,8,["activity","class"])]))),128))])):k("",!0),i("div",Zt,[(u(!0),m(w,null,F(t.features,(n,d)=>(u(),m("div",{class:"col-9 col-md col-lg-5",key:n.title,"data-aos":d%2?"fade-down-left":"fade-down-right"},[i("div",ee,[i("div",se,[i("img",{src:n.img,alt:n.title,class:"img-fluid"},null,8,ie)]),i("h5",ae,g(n.title),1)])],8,te))),128))])]),i("div",oe,[i("div",ne,[(u(!0),m(w,null,F(s.adLocations,(n,d)=>(u(),z(l,{to:"#",class:P(["position-relative",`waterfalls-flow-item-${d+1}`]),key:n.id,"data-aos":"zoom-out-down","data-aos-delay":50*d},{default:y(()=>[i("div",re,[i("img",{src:n.img,alt:n.name,class:"img-cover"},null,8,le)]),i("h2",ce,g(n.name),1)]),_:2},1032,["class","data-aos-delay"]))),128))])]),i("div",de,[ue,i("div",he,[i("div",me,[i("img",{src:t.commentImg,alt:"評論",class:"shadow-lg"},null,8,fe)]),i("div",pe,[_(V,{init:"false",ref:"commentSwiper"},{default:y(()=>[_(f,null,{default:y(()=>[S("Slide 1")]),_:1}),_(f,null,{default:y(()=>[S("Slide 2")]),_:1}),_(f,null,{default:y(()=>[S("Slide 3")]),_:1})]),_:1},512)])])])],64)}const Ve=Y(It,[["render",ve]]);export{Ve as default};
