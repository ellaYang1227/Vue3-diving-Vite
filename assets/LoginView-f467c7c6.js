import{F as V,a as L,E}from"./vee-validate.esm-31b57826.js";import{_ as x,m as M,L as u,a as b,c as i,d as o,as as l,bf as a,b as r,w as g,r as n,o as m,ao as p,aO as S}from"./dateFormat-72276a92.js";import{M as k}from"./MemberStore-a6fe42ff.js";import{f as N}from"./formSchema-19c1282a.js";import{g as A}from"./routeGuard-0f827432.js";import"./axiosBase-91f395ff.js";import"./ActivityStore-099937b2.js";const B="/Vue3-diving-Vite/assets/login-ad2a4d53.jpg";const{VITE_COMPANY_NAME:O}={VITE_COMPANY_NAME:"氣瓶海人 水肺潛水揪團",VITE_API_ROOT:"https://vue3-diving-vite.onrender.com/",BASE_URL:"/Vue3-diving-Vite/",MODE:"production",DEV:!1,PROD:!0},F={data(){return{formSchema:N,loginImg:B,VITE_COMPANY_NAME:O,title:"登入",form:{email:"",password:""}}},inject:["frontLayoutData"],components:{VForm:V,Field:L,ErrorMessage:E},computed:{...M(u,["isLoadingBtn"])},beforeRouteEnter(s,t,_){A(s,t,_)},created(){this.frontLayoutData.isVerticalMiddle=!0,this.frontLayoutData.showSearchBar=!1,this.hideLoading()},methods:{...b(u,["showLoading","hideLoading"]),...b(k,["login"]),onSubmit(){this.showLoading("btn");const{returnUrl:s}=this.$route.query;this.login(this.form,s).then(t=>this.hideLoading())}}},R={class:"container py-2 py-sm-4 py-md-5"},C={class:"row justify-content-center"},D={class:"col-md-11 col-lg-10 col-xxl-8"},I={class:"login-card card"},T={class:"row g-0"},j={class:"col-md-5 position-relative d-flex justify-content-center"},P=["src","alt"],q={class:"col-md-7"},U={class:"card-body py-4 py-md-5"},Y={class:"card-title mb-2 fw-bold fs-4 text-primary text-end opacity-75 text-shadow"},z=o("small",{class:"font-barlow text-uppercase fw-normal ms-1"},"login",-1),G=["disabled"],H={class:"mb-3"},J=["for"],K={key:0,class:"text-danger"},Q={class:"mb-3"},W=["for"],X={key:0,class:"text-danger"},Z={class:"text-end pt-3"},$=["disabled"],ee={key:0,class:"spinner-border spinner-border-sm",role:"status"},oe={class:"col-md-7 offset-md-5 text-center pt-2"};function se(s,t,_,te,e,y){const f=n("Field"),h=n("ErrorMessage"),w=n("VForm"),v=n("RouterLink");return m(),i("div",R,[o("div",C,[o("div",D,[o("div",I,[o("div",T,[o("div",j,[o("img",{src:e.loginImg,class:"border border-card-border-width login-img img-cover shadow",alt:`${e.VITE_COMPANY_NAME}-${e.title}`},null,8,P)]),o("div",q,[o("div",U,[o("h5",Y,[l(a(e.title),1),z]),r(w,{onSubmit:y.onSubmit},{default:g(({errors:c})=>[o("fieldset",{disabled:s.isLoadingBtn},[o("div",H,[o("label",{for:e.formSchema.email.label,class:"form-label"},[l(a(e.formSchema.email.label),1),e.formSchema.email.isRequired?(m(),i("span",K,"*")):p("",!0)],8,J),r(f,{id:e.formSchema.email.label,name:e.formSchema.email.label,type:e.formSchema.email.type,class:S(["form-control",{"is-invalid":c[e.formSchema.email.label]}]),placeholder:`請輸入 ${e.formSchema.email.label}`,rules:e.formSchema.email.rules,modelValue:e.form.email,"onUpdate:modelValue":t[0]||(t[0]=d=>e.form.email=d),modelModifiers:{trim:!0}},null,8,["id","name","type","class","placeholder","rules","modelValue"]),r(h,{name:e.formSchema.email.label,class:"invalid-feedback"},null,8,["name"])]),o("div",Q,[o("label",{for:e.formSchema.password.label,class:"form-label"},[l(a(e.formSchema.password.label),1),e.formSchema.password.isRequired?(m(),i("span",X,"*")):p("",!0)],8,W),r(f,{id:e.formSchema.password.label,name:e.formSchema.password.label,type:e.formSchema.password.type,class:S(["form-control",{"is-invalid":c[e.formSchema.password.label]}]),placeholder:`請輸入${e.formSchema.password.label}`,rules:e.formSchema.password.rules.required,modelValue:e.form.password,"onUpdate:modelValue":t[1]||(t[1]=d=>e.form.password=d),modelModifiers:{trim:!0}},null,8,["id","name","type","class","placeholder","rules","modelValue"]),r(h,{name:e.formSchema.password.label,class:"invalid-feedback"},null,8,["name"])]),o("div",Z,[o("button",{type:"submit",class:"btn btn-primary btn-custom-rectangle",disabled:s.isLoadingBtn||Object.keys(c).length},[s.isLoadingBtn?(m(),i("span",ee)):p("",!0),l(" "+a(e.title),1)],8,$)])],8,G)]),_:1},8,["onSubmit"])])])])]),o("div",oe,[l("沒有帳號？"),r(v,{to:"/signup",class:"text-reset"},{default:g(()=>[l("立即註冊")]),_:1})])])])])}const de=x(F,[["render",se]]);export{de as default};
