import{P as H,aJ as k,bj as j,av as Y,aA as J,o as d,c as h,aM as M,b as i,h as F,w as V,t as u,u as P,e as y,g as I,i as w,d as K,_ as Q,bx as W,m as X,a as U,F as b,r as A,f as B,n as $,bs as Z}from"./index-19ce039d.js";import{_ as C,d as E,s as tt,b as N}from"./statusFormat-bb7ef99b.js";const et="/Vue3-diving-Vite/assets/diving-0d7546ba.svg",st="/Vue3-diving-Vite/assets/peoples-49273bf6.svg",it="/Vue3-diving-Vite/assets/area-ae7a8f4a.svg",at="/Vue3-diving-Vite/assets/license-d6779c7a.svg",ot="/Vue3-diving-Vite/assets/score-cbb8c8ca.svg",nt="/Vue3-diving-Vite/assets/comment-707cccbb.png";var rt=Object.defineProperty,lt=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,q=(t,s,a)=>s in t?rt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,z=(t,s)=>{for(var a in s||(s={}))dt.call(s,a)&&q(t,a,s[a]);if(R)for(var a of R(s))ut.call(s,a)&&q(t,a,s[a]);return t},mt=(t,s)=>lt(t,ct(s)),D=globalThis&&globalThis.__assign||function(){return(D=Object.assign||function(t){for(var s,a=1,o=arguments.length;a<o;a++)for(var e in s=arguments[a])Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e]);return t}).apply(this,arguments)},ht=function(){function t(s,a,o){var e=this;this.endVal=a,this.options=o,this.version="2.1.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(l){e.startTime||(e.startTime=l);var c=l-e.startTime;e.remaining=e.duration-c,e.useEasing?e.countDown?e.frameVal=e.startVal-e.easingFn(c,0,e.startVal-e.endVal,e.duration):e.frameVal=e.easingFn(c,e.startVal,e.endVal-e.startVal,e.duration):e.countDown?e.frameVal=e.startVal-(e.startVal-e.endVal)*(c/e.duration):e.frameVal=e.startVal+(e.endVal-e.startVal)*(c/e.duration),e.countDown?e.frameVal=e.frameVal<e.endVal?e.endVal:e.frameVal:e.frameVal=e.frameVal>e.endVal?e.endVal:e.frameVal,e.frameVal=Number(e.frameVal.toFixed(e.options.decimalPlaces)),e.printValue(e.frameVal),c<e.duration?e.rAF=requestAnimationFrame(e.count):e.finalEndVal!==null?e.update(e.finalEndVal):e.callback&&e.callback()},this.formatNumber=function(l){var c,f,p,g,x=l<0?"-":"";c=Math.abs(l).toFixed(e.options.decimalPlaces);var v=(c+="").split(".");if(f=v[0],p=v.length>1?e.options.decimal+v[1]:"",e.options.useGrouping){g="";for(var _=0,n=f.length;_<n;++_)_!==0&&_%3==0&&(g=e.options.separator+g),g=f[n-_-1]+g;f=g}return e.options.numerals&&e.options.numerals.length&&(f=f.replace(/[0-9]/g,function(r){return e.options.numerals[+r]}),p=p.replace(/[0-9]/g,function(r){return e.options.numerals[+r]})),x+e.options.prefix+f+p+e.options.suffix},this.easeOutExpo=function(l,c,f,p){return f*(1-Math.pow(2,-10*l/p))*1024/1023+c},this.options=D(D({},this.defaults),o),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof s=="string"?document.getElementById(s):s,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",window!==void 0&&this.options.enableScrollSpy&&(this.error?console.error(this.error,s):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return e.handleScroll(e)}),window.onscroll=function(){window.onScrollFns.forEach(function(l){return l()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(s){if(s&&window){var a=window.innerHeight+window.scrollY,o=s.el.offsetTop+s.el.offsetHeight;o<a&&o>window.scrollY&&s.paused?(s.paused=!1,setTimeout(function(){return s.start()},s.options.scrollSpyDelay)):window.scrollY>o&&!s.paused&&s.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var s=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>s;var a=s-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold){this.finalEndVal=s;var o=this.countDown?1:-1;this.endVal=s+o*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=s,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(s){this.error||(this.callback=s,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(s){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(s),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(s){var a=this.formattingFn(s);this.el.tagName==="INPUT"?this.el.value=a:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=a:this.el.innerHTML=a},t.prototype.ensureNumber=function(s){return typeof s=="number"&&!isNaN(s)},t.prototype.validateValue=function(s){var a=Number(s);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: "+s,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const ft={class:"countup-wrap"},pt={name:"CountUp"},gt=H(mt(z({},pt),{props:{endVal:null,startVal:{default:0},duration:{default:2.5},decimalPlaces:{default:0},autoplay:{type:Boolean,default:!0},loop:{type:[Boolean,Number,String],default:!1},delay:{default:0},options:{default:void 0}},emits:["init","finished"],setup(t,{expose:s,emit:a}){const o=t;let e=k(),l=k();const c=()=>{if(!e.value)return;const r=Number(o.startVal),m=Number(o.endVal),S=Number(o.duration);if(l.value=new ht(e.value,m,z({startVal:r,duration:S,decimalPlaces:o.decimalPlaces},o.options)),l.value.error){console.error(l.value.error);return}a("init",l.value)},f=r=>{var m;(m=l.value)==null||m.start(r)};j(()=>o.endVal,r=>{var m;o.autoplay&&((m=l.value)==null||m.update(r))});const p=k(!1);let g=0;const x=()=>{g++,f(()=>{typeof o.loop=="boolean"&&o.loop||o.loop>g?_(()=>{var m;(m=l.value)==null||m.reset(),x()},o.delay):p.value=!0})};j(p,r=>{r&&a("finished")}),Y(()=>{c(),o.autoplay&&x()}),J(()=>{var r;cancelAnimationFrame(v),(r=l.value)==null||r.reset()});let v;const _=(r,m=1)=>{let S;function O(T){S||(S=T),T-S<m*1e3?v=requestAnimationFrame(O):r()}v=requestAnimationFrame(O)};return s({init:c,restart:()=>{c(),f()}}),(r,m)=>(d(),h("div",ft,[M(r.$slots,"prefix"),i("span",{ref_key:"elRef",ref:e},null,512),M(r.$slots,"suffix")]))}}));function vt(t,s=0){let a=Math.round(t);if(s){const o=Math.pow(10,s);a=Math.round(t*o)/o}return a.toFixed(s)}function L(t,s){let a=[];return a=s.filter(o=>!Object.prototype.hasOwnProperty.call(t,o)),a.length&&console.warn(`[ActivityCard 元件警告]缺少「${a.join("、")}」欄位資料`),!a.length}const _t={class:"corner-card"},yt={class:"img-frame mb-3"},wt=i("div",{class:"outer-border"},null,-1),bt={class:"card custom-rectangle bg-primary"},Vt=["src","alt"],xt={class:"card-img-overlay"},At={class:"fs-6 font-barlow badge rounded-pill bg-darkPrimary bg-opacity-75 text-body border border-lightPrimary border-2"},St={class:"h5 mb-1 text-primary text-truncate-row-2 fw-bold"},Ft={class:"list-unstyled text-body lh-sm"},Pt={class:"font-barlow"},Ct={class:"row align-items-center fw-bold pt-3"},$t={class:"col text-truncate"},Et={class:"col-auto font-barlow list-inline"},kt={class:"list-inline-item"},Nt={key:0,class:"list-inline-item"},Dt={key:1,class:"list-inline-item"},Ot={data(){return{}},props:{activity:{type:Object,required:!0,validator(t){return L(t,["id","title","imgs","location","startDate","endDate","isNitrox","cylinderTotal","user"])}}},components:{UserMugShot:C},mounted(){},methods:{}},Tt=Object.assign(Ot,{__name:"CornerActivityCard",setup(t){return(s,a)=>{const o=w("router-link");return d(),F(o,{to:"#",class:"col text-decoration-none"},{default:V(()=>{var e,l,c;return[i("div",_t,[i("div",yt,[wt,i("div",bt,[i("img",{src:t.activity.imgs[0],class:"card-img custom-rectangle img-cover",alt:`[${t.activity.location}]${t.activity.title}`},null,8,Vt),i("div",xt,[i("span",At,u(P(vt)((e=t.activity.user)==null?void 0:e.score,1)),1)])])]),i("h2",St,u(t.activity.title),1),i("ul",Ft,[i("li",null,u(t.activity.location),1),i("li",Pt,u(P(E)(t.activity.startDate))+" ~ "+u(P(E)(t.activity.endDate)),1),i("li",Ct,[i("div",$t,[y(C,{"width-size":30,name:(l=t.activity.user)==null?void 0:l.name,img:(c=t.activity.user)==null?void 0:c.img},null,8,["name","img"])]),i("ul",Et,[i("li",kt,u(t.activity.grade),1),t.activity.isNitrox?(d(),h("li",Nt,"高氧")):I("",!0),t.activity.cylinderTotal?(d(),h("li",Dt,u(t.activity.cylinderTotal),1)):I("",!0)])])])])]}),_:1})}}});const jt={class:"bottom-frame-card"},Mt={class:"img-frame mb-3"},It=i("div",{class:"outer-border custom-rectangle border border-card-border-width"},null,-1),Ut={class:"card custom-rectangle bg-primary"},Bt=["src","alt"],Rt={class:"card-img-overlay text-body w-75"},qt={class:"h5 mb-1 text-primary text-truncate-row-2 fw-bold"},zt={class:"list-unstyled text-body lh-sm"},Gt={class:"font-barlow"},Kt={data(){return{}},props:{activity:{type:Object,required:!0,validator(t){return L(t,["id","title","imgs","location","startDate","endDate","isNitrox","cylinderTotal","user"])}}},components:{UserMugShot:C},mounted(){},methods:{}},Lt=Object.assign(Kt,{__name:"BottomFrameActivityCard",setup(t){return(s,a)=>{const o=w("router-link");return d(),F(o,{to:"#",class:"col text-decoration-none"},{default:V(()=>{var e,l,c;return[i("div",jt,[i("div",Mt,[It,i("div",Ut,[i("img",{src:t.activity.imgs[0],class:"card-img custom-rectangle img-cover",alt:`[${t.activity.location}]${t.activity.title}`},null,8,Bt),i("div",Rt,[y(C,{name:(e=t.activity.user)==null?void 0:e.name,img:(l=t.activity.user)==null?void 0:l.img,score:(c=t.activity.user)==null?void 0:c.score,isShowRating:!1},null,8,["name","img","score"])])])]),i("h2",qt,u(t.activity.title),1),i("ul",zt,[i("li",null,u(t.activity.location),1),i("li",Gt,u(P(E)(t.activity.startDate))+" ~ "+u(P(E)(t.activity.endDate)),1)])])]}),_:1})}}}),G=K("ActivityStore",{state:()=>({statusFormat:tt,activitys:[],locations:[]}),getters:{newActivitys:({activitys:t})=>t.filter(a=>a.groupStatus==="進行中").slice(0,3),hotActivitys:({activitys:t})=>t.filter(a=>a.activityStatus!=="已結束").sort(()=>Math.random()>.5?-1:1).slice(0,3),adLocations:({locations:t})=>t.filter(a=>a.isIndexAD).sort(()=>Math.random()>.5?-1:1).slice(0,12)},actions:{getActivitys(){N.get("/activitys.json").then(t=>{this.activitys=t.reverse().filter(s=>s.isEnable&&!s.isViolation).map(s=>({...s,...this.statusFormat(s)}))})},getLocations(){N.get("/locations.json").then(t=>{this.locations=t})}}}),Ht=K("CommentStore",{state:()=>({comments:[]}),getters:{},actions:{getComments(){return N.get("/comments.json").then(t=>t)}}}),Yt={slidesPerView:1,spaceBetween:30,resistanceRatio:0,freeMode:!0,autoplay:{delay:5e3},mousewheel:!0,watchOverflow:!0,pagination:{clickable:!0}};const Jt={data(){return{commentImg:nt,bannerIcons:[{title:"揪團潛水",img:et,total:1005},{title:"報名人數",img:st,total:14186},{title:"潛水地區",img:it,total:84}],activityNavs:{hot:"熱門",new:"最新"},activeActivityNav:"hot",features:[{title:`證照門檻
找伴揪安心`,img:at},{title:`評分機制
加團不踩雷`,img:ot}],comments:[]}},mounted(){W.init({duration:1200,easing:"ease-in-out-back"}),this.getActivitys(),this.getLocations(),Promise.all([this.getComments()]).then(t=>{console.log(t),this.comments=t[0],this.setSwiper("commentSwiper"),this.setSwiper("goodRatingSwiper")})},computed:{...X(G,["newActivitys","hotActivitys","adLocations"]),activityCards(){let t=[];switch(this.activeActivityNav){case"new":t=this.newActivitys;break;case"hot":t=this.hotActivitys;break}return t}},methods:{...U(G,["getActivitys","getLocations"]),...U(Ht,["getComments"]),toggleActiveActivityNav(t){this.activeActivityNav=t},setSwiper(t){const s=this.$refs[t];let a=null;t==="commentSwiper"?a={grid:{rows:2}}:t==="goodRatingSwiper"&&(a={slidesPerView:1,breakpoints:{768:{slidesPerView:2}}}),Object.assign(s,{...Yt,...a}),s.initialize()}},components:{CornerActivityCard:Tt,BottomFrameActivityCard:Lt,UserMugShot:C,CountUp:gt}},Qt={class:"bg-img pb-5 py-lg-5"},Wt={class:"container text-center py-5","data-aos":"zoom-out-down"},Xt=i("h6",{class:"en-title text-uppercase fs-5 font-barlow mb-0"},"DIVING",-1),Zt=i("h1",{class:"main-title display-3 mb-0 fw-bold"},"潛安伴旅這裡揪",-1),te=i("h2",{class:"sub-title opacity-75 fs-4"},"在氣瓶海人遇見好潛伴",-1),ee={class:"d-grid col-7 col-md-4 col-lg-3 mx-auto mt-4"},se={class:"bg-lightPrimary bg-opacity-20 mt-3","data-aos":"fade-up","data-aos-delay":"600"},ie={class:"container py-4"},ae={class:"row gx-0 gy-4 justify-content-center"},oe=["src"],ne={class:"text-center flex-grow-1 flex-md-grow-0"},re={class:"d-block text-primary fw-light font-barlow display-4 lh-1"},le={class:"container","data-aos":"fade-up"},ce={class:"nav fs-4"},de=["onClick"],ue={class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4"},me={class:"row gy-4 justify-content-center py-4 py-md-5"},he=["data-aos"],fe={class:"row g-0"},pe={class:"col-5"},ge=["src","alt"],ve={class:"col fw-bold text-warning fs-1 mb-0 white-space-pre-wrap lh-sm align-self-center mt-3 mt-xl-5"},_e={class:"bg-lightPrimary bg-opacity-20 my-4 my-md-5 py-3","data-aos":"fade-up"},ye={class:"container-fluid waterfalls-flow-imgs"},we={class:"waterfalls-flow-item-img-box"},be=["src","alt"],Ve={class:"position-absolute bottom-0 start-0 m-3 p-2 border border-lightPrimary bg-lightPrimary bg-opacity-20"},xe={class:"text-truncate-row-2 mb-0 text-body fs-5"},Ae={class:"container"},Se={class:"py-4 py-md-5","data-aos":"zoom-out"},Fe=i("h5",{class:"fs-3 text-center text-primary mb-5"},[i("strong",null,"聽聽其他人怎麼說"),i("small",{class:"d-block text-body fs-5"},"大家參加完潛團的想法是甚麼呢")],-1),Pe={class:"row justify-content-center row-cols-1 row-cols-md-2 gy-4 gy-md-0"},Ce={class:"col-10 col-md text-center align-self-center","data-aos":"zoom-out"},$e=["src"],Ee={class:"col","data-aos":"zoom-out"},ke={class:"row align-items-end"},Ne={class:"col-sm-5"},De={class:"fs-5 col-sm-7 text-primary text-truncate text-sm-end mt-2 mt-sm-0"},Oe={class:"mb-0 col-12 mt-sm-2 text-truncate-row-4"},Te={class:"py-4 py-md-5","data-aos":"fade-up"},je=i("h5",{class:"fs-3 text-center text-primary mb-3"},[i("strong",null,"好評主揪開團"),i("small",{class:"d-block text-body fs-5"},"跟著好主揪 享受安心潛旅")],-1);function Me(t,s,a,o,e,l){const c=w("router-link"),f=w("count-up"),p=w("CornerActivityCard"),g=w("UserMugShot"),x=w("swiper-slide"),v=w("swiper-container"),_=w("BottomFrameActivityCard");return d(),h(b,null,[i("div",Qt,[i("div",Wt,[Xt,Zt,te,i("div",ee,[y(c,{to:"addGroup",class:"btn btn-outline-lightPrimary btn-lg rounded-pill opacity-75",role:"button"},{default:V(()=>[B("我要揪團")]),_:1})])]),i("div",se,[i("div",ie,[i("div",ae,[(d(!0),h(b,null,A(e.bannerIcons,n=>(d(),h("div",{"data-aos":"flip-left","data-aos-delay":"1000",class:"col-7 col-md-4 d-flex justify-content-center align-items-center",key:n.title},[i("img",{src:n.img,class:"banner-icon-size border border-style-dashed border-lightPrimary rounded-circle me-md-2"},null,8,oe),i("div",ne,[i("span",re,[y(f,{endVal:n.total,duration:5},null,8,["endVal"])]),B(u(n.title),1)])]))),128))])])])]),i("div",le,[i("nav",ce,[(d(!0),h(b,null,A(e.activityNavs,(n,r,m)=>(d(),h("a",{class:$(["nav-link fw-bold",{disabled:e.activeActivityNav===r,"ps-0":!m}]),"aria-current":"page",href:"#",key:r,onClick:Z(S=>l.toggleActiveActivityNav(r),["prevent"])},u(n),11,de))),128))]),i("div",ue,[(d(!0),h(b,null,A(l.activityCards,(n,r)=>(d(),h("div",{"data-aos":"fade-up",key:n.id},[y(p,{activity:n,class:$({"d-block d-sm-none d-lg-block":r>=2})},null,8,["activity","class"])]))),128))]),i("div",me,[(d(!0),h(b,null,A(e.features,(n,r)=>(d(),h("div",{class:"col-9 col-md col-lg-5",key:n.title,"data-aos":r%2?"fade-down-left":"fade-down-right"},[i("div",fe,[i("div",pe,[i("img",{src:n.img,alt:n.title,class:"img-fluid"},null,8,ge)]),i("h5",ve,u(n.title),1)])],8,he))),128))])]),i("div",_e,[i("div",ye,[(d(!0),h(b,null,A(t.adLocations,(n,r)=>(d(),F(c,{to:"#",class:$(["position-relative shadow-lg",`waterfalls-flow-item-${r+1}`]),key:n.id,"data-aos":"zoom-out-down","data-aos-delay":50*r},{default:V(()=>[i("div",we,[i("img",{src:n.img,alt:n.name,class:"img-cover"},null,8,be)]),i("div",Ve,[i("h2",xe,u(n.name),1)])]),_:2},1032,["class","data-aos-delay"]))),128))])]),i("div",Ae,[i("div",Se,[Fe,i("div",Pe,[i("div",Ce,[i("img",{src:e.commentImg,alt:"評論",class:"comment-img-height"},null,8,$e)]),i("div",Ee,[y(v,{init:"false",ref:"commentSwiper",class:"comment-height offset-pagination"},{default:V(()=>[(d(!0),h(b,null,A(e.comments,n=>(d(),F(x,{key:n.id,class:"align-items-start"},{default:V(()=>[i("div",ke,[i("div",Ne,[y(g,{name:n.user.name,img:n.user.img,score:n.score,isShowRating:!1},null,8,["name","img","score"])]),i("strong",De,u(n.activity.title),1),i("p",Oe,u(n.content),1)])]),_:2},1024))),128))]),_:1},512)])])]),i("div",Te,[je,y(v,{init:"false",ref:"goodRatingSwiper",class:"good-rating-height offset-pagination"},{default:V(()=>[(d(!0),h(b,null,A(l.activityCards,n=>(d(),F(x,{key:n.id},{default:V(()=>[y(_,{"data-aos":"flip-left",activity:n,class:$({"d-block d-sm-none d-lg-block":t.index>=2})},null,8,["activity","class"])]),_:2},1024))),128))]),_:1},512)])])],64)}const Re=Q(Jt,[["render",Me]]);export{Re as default};
