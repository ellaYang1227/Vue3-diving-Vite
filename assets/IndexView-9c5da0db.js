import{o as c,c as V,w as h,a as e,t as n,u as g,d as p,b as f,_ as $,e as a,f as b,r as w,g as j,s as I,h as x,m as P,i as S,F as m,j as y,k,n as _,l as F}from"./index-9e2f35b1.js";const M="/Vue3-diving-Vite/assets/diving-0d7546ba.svg",D="/Vue3-diving-Vite/assets/peoples-49273bf6.svg",O="/Vue3-diving-Vite/assets/area-ae7a8f4a.svg",B="/Vue3-diving-Vite/assets/license-d6779c7a.svg",L="/Vue3-diving-Vite/assets/score-cbb8c8ca.svg";function T(t,s=0){let o=Math.round(t);if(s){const l=Math.pow(10,s);o=Math.round(t*l)/l}return o.toFixed(s)}function z(t,s){let o=[];return o=s.filter(l=>!Object.prototype.hasOwnProperty.call(t,l)),o.length&&console.warn(`[ActivityCard 元件警告]缺少「${o.join("、")}」欄位資料`),!o.length}const K={class:"img-frame-card"},q={class:"img-frame mb-3"},E=e("div",{class:"outer-border"},null,-1),G={class:"card custom-rectangle bg-primary"},R=["src","alt"],U={class:"card-img-overlay"},H={class:"fs-6 font-barlow badge rounded-pill bg-darkPrimary bg-opacity-75 text-body border border-lightPrimary border-2"},J={class:"h5 mb-1 text-primary text-truncate-row-2"},Q={class:"list-unstyled text-body lh-sm"},W={class:"font-barlow"},X={class:"row align-items-center fw-bold pt-3"},Y={class:"col text-truncate"},Z={class:"col-auto font-barlow list-inline"},tt={class:"list-inline-item"},et={key:0,class:"list-inline-item"},st={key:1,class:"list-inline-item"},it={props:{activity:{type:Object,required:!0,validator(t){return z(t,["id","title","imgs","location","startDate","endDate","isNitrox","cylinderTotal","user"])}}},components:{UserMugShot:$},data(){return{}},mounted(){},methods:{}},ot=Object.assign(it,{__name:"ActivityCard",setup(t){return(s,o)=>{const l=w("router-link");return c(),V(l,{to:"#",class:"col text-decoration-none"},{default:h(()=>{var r,v,u;return[e("div",K,[e("div",q,[E,e("div",G,[e("img",{src:t.activity.imgs[0],class:"card-img custom-rectangle img-cover",alt:`[${t.activity.location}]${t.activity.title}`},null,8,R),e("div",U,[e("span",H,n(g(T)((r=t.activity.user)==null?void 0:r.score,1)),1)])])]),e("h2",J,n(t.activity.title),1),e("ul",Q,[e("li",null,n(t.activity.location),1),e("li",W,n(g(p)(t.activity.startDate))+" ~ "+n(g(p)(t.activity.endDate)),1),e("li",X,[e("div",Y,[f($,{"width-size":25,name:(v=t.activity.user)==null?void 0:v.name,img:(u=t.activity.user)==null?void 0:u.img},null,8,["name","img"])]),e("ul",Z,[e("li",tt,n(t.activity.grade),1),t.activity.isNitrox?(c(),a("li",et,"高氧")):b("",!0),t.activity.cylinderTotal?(c(),a("li",st,n(t.activity.cylinderTotal),1)):b("",!0)])])])])]}),_:1})}}}),A=j("activityStore",{state:()=>({statusFormat:I,activitys:[],locations:[]}),getters:{newActivitys:({activitys:t})=>t.filter(o=>o.groupStatus==="進行中").slice(0,3),hotActivitys:({activitys:t})=>t.filter(o=>o.activityStatus!=="已結束").sort(()=>Math.random()>.5?-1:1).slice(0,3),adLocations:({locations:t})=>t.filter(o=>o.isIndexAD).sort(()=>Math.random()>.5?-1:1).slice(0,8)},actions:{getActivitys(){x.get("/activitys.json").then(t=>{this.activitys=t.reverse().filter(s=>s.isEnable&&!s.isViolation).map(s=>({...s,...this.statusFormat(s)}))})},getLocations(){x.get("/locations.json").then(t=>{this.locations=t})}}});const ct=(t,s)=>{const o=t.__vccOpts||t;for(const[l,r]of s)o[l]=r;return o},at={data(){return{bannerIcons:[{title:"揪團潛水",img:M,total:1005},{title:"報名人數",img:D,total:14186},{title:"潛水地區",img:O,total:84}],activityNavs:{hot:"熱門",new:"最新"},activeActivityNav:"hot",features:[{title:`證照門檻
找伴揪安心`,img:B},{title:`評分機制
加團不踩雷`,img:L}]}},mounted(){this.getActivitys(),this.getLocations()},computed:{...P(A,["newActivitys","hotActivitys","adLocations"]),activityCards(){let t=[];switch(this.activeActivityNav){case"new":t=this.newActivitys;break;case"hot":t=this.hotActivitys;break}return t}},methods:{...S(A,["getActivitys","getLocations"]),toggleActiveActivityNav(t){this.activeActivityNav=t}},components:{ActivityCard:ot}},nt={class:"bg-img pb-5 py-lg-5"},lt={class:"container text-center py-5"},rt=e("h6",{class:"en-title text-uppercase fs-5 font-barlow mb-0"},"DIVING",-1),dt=e("h1",{class:"main-title display-3 mb-0"},"潛安伴旅這裡揪",-1),vt=e("h2",{class:"sub-title opacity-75 fs-4"},"在氣瓶海人遇見好潛伴",-1),mt={class:"d-grid col-7 col-md-4 col-lg-3 mx-auto mt-4"},ut={class:"bg-lightPrimary bg-opacity-20 mt-3"},yt={class:"container py-4"},gt={class:"row gx-0 gy-4 justify-content-center"},_t=["src"],ht={class:"text-center flex-grow-1 flex-md-grow-0"},ft={class:"d-block text-primary fw-light font-barlow display-4 lh-1"},bt={class:"container"},wt={class:"nav fs-5"},pt=["onClick"],xt={key:0,class:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4"},kt={class:"row gy-4 justify-content-center py-4 py-md-5"},At={class:"row g-0"},Vt={class:"col-5"},$t=["src","alt"],Nt={class:"col fw-bold text-warning fs-1 mb-0 word-break-keep-all lh-sm align-self-center mt-3 mt-xl-5"},Ct={class:"bg-lightPrimary bg-opacity-20 my-3 py-3"},jt={class:"container-fluid waterfalls-flow-imgs"},It={class:"waterfalls-flow-item-img-box"},Pt=["src","alt"],St={class:"position-absolute bottom-0 start-0 m-2 m-md-3 py-1 px-2 border border-lightPrimary bg-lightPrimary bg-opacity-20 text-body fs-5 text-truncate-row-2"};function Ft(t,s,o,l,r,v){const u=w("router-link"),N=w("ActivityCard");return c(),a(m,null,[e("div",nt,[e("div",lt,[rt,dt,vt,e("div",mt,[f(u,{to:"addGroup",class:"btn btn-outline-lightPrimary btn-lg rounded-pill opacity-75",role:"button"},{default:h(()=>[k("我要揪團")]),_:1})])]),e("div",ut,[e("div",yt,[e("div",gt,[(c(!0),a(m,null,y(r.bannerIcons,i=>(c(),a("div",{class:"col-7 col-md-4 d-flex justify-content-center align-items-center",key:i.title},[e("img",{src:i.img,class:"banner-icon-size border border-style-dashed border-lightPrimary rounded-circle me-md-2"},null,8,_t),e("div",ht,[e("span",ft,n(i.total),1),k(n(i.title),1)])]))),128))])])])]),e("div",bt,[e("nav",wt,[(c(!0),a(m,null,y(r.activityNavs,(i,d,C)=>(c(),a("a",{class:_(["nav-link",{disabled:r.activeActivityNav===d,"ps-0":!C}]),"aria-current":"page",href:"#",key:d,onClick:F(Mt=>v.toggleActiveActivityNav(d),["prevent"])},n(i),11,pt))),128))]),v.activityCards.length?(c(),a("div",xt,[(c(!0),a(m,null,y(v.activityCards,(i,d)=>(c(),V(N,{key:i.title,activity:i,class:_({"d-block d-sm-none d-lg-block":d>=2})},null,8,["activity","class"]))),128))])):b("",!0),e("div",kt,[(c(!0),a(m,null,y(r.features,i=>(c(),a("div",{class:"col-9 col-md col-lg-5",key:i.title},[e("div",At,[e("div",Vt,[e("img",{src:i.img,alt:i.title,class:"img-fluid"},null,8,$t)]),e("h5",Nt,n(i.title),1)])]))),128))])]),e("div",Ct,[e("div",jt,[(c(!0),a(m,null,y(t.adLocations,(i,d)=>(c(),a("div",{class:_(["waterfalls-flow-item position-relative",{"d-none d-md-block d-xl-none":d===8}]),key:i.id},[f(u,{to:"#"},{default:h(()=>[e("div",It,[e("img",{src:i.img,alt:i.name,class:"img-cover"},null,8,Pt)]),e("h2",St,n(i.name)+" "+n(d),1)]),_:2},1024)],2))),128))])])],64)}const Ot=ct(at,[["render",Ft]]);export{Ot as default};
